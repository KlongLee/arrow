---
title: "Get started with Arrow"
description: >
  An overview of the Apache Arrow project and the `arrow` R package
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Get started with Arrow}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

Apache Arrow is a software development platform for building high performance applications that process and transport large data sets. It is designed to improve the performance of data analysis methods, and to increase the efficiency of moving data from one system or programming language to another. 

The `arrow` package provides a standard way to use Apache Arrow in R. It provides a low-level interface to the [Arrow C++ library](https://arrow.apache.org/docs/cpp), and some higher-level tools for working with it in a way designed to feel natural to R users. This vignette provides an overview of how the pieces fit together, and it describes the conventions that the classes and methods follow in R.

## What is Apache Arrow?

Apache Arrow is a software development platform for building high performance applications that process and transport large data sets. It is designed to both improve the performance of analytical algorithms and the efficiency of moving data from one system or programming language to another.

A critical component of Apache Arrow is its in-memory columnar format, a standardized, language-agnostic specification for representing structured, table-like datasets in-memory. This data format has a rich data type system (included nested and user-defined data types) designed to support the needs of analytic database systems, data frame libraries, and more.

## Using the `arrow` package

### Reading and writing individual data files

One of the main ways to use `arrow` is to read and write data files in
several common formats. There are several functions you can use for this:

-   `read_parquet()`: read a file in Parquet format
-   `read_feather()`: read a file in Feather format
-   `read_delim_arrow()`: read a delimited text file 
-   `read_csv_arrow()`: read a comma-separated values (CSV) file
-   `read_tsv_arrow()`: read a tab-separated values (TSV) file
-   `read_json_arrow()`: read a JSON data file

In every case except JSON, there is a corresponding `write_*()` function 
that allows you to create data files in the appropriate format. 
By default, the `read_*()` functions a data frame or tibble, but
they also support Arrow Tables: to return a Table object, set the 
`as_data_frame` argument to `FALSE`. 

Example:

```{r}
library(arrow, warn.conflicts = FALSE)
library(dplyr, warn.conflicts = FALSE)
set.seed(1234)

file_path <- tempfile(fileext = ".parquet")

write_parquet(starwars, file_path)
read_parquet(file_path)
```

See `vignette("read_write", package = "arrow")` for more information.

### Reading and writing multi-file data sets


Example:

```{r}
nrows <- 100000
random_data <- data.frame(
  x = rnorm(nrows), 
  y = rnorm(nrows),
  subset = sample(10, nrows, replace = TRUE)
)

dataset_path <- file.path(tempdir(), "random_data")

random_data |>
  group_by(subset) |>
  write_dataset(dataset_path)

list.files(dataset_path, recursive = TRUE)

dataset <- open_dataset(dataset_path)
dataset
```

See `vignette("dataset", package = "arrow")` for more information.


### Analyzing data

Example:

```{r}
dataset |>
  group_by(subset) |> 
  summarize(mean_x = mean(x), min_y = min(y)) |>
  collect()
```

See `vignette("data_wrangling", package = "arrow")` for more information.

### Connecting to cloud storage

See `vignette("cloud_storage", package = "arrow")` for more information.

### Passing Arrow data between R and Python

Using [`reticulate`](https://rstudio.github.io/reticulate/), `arrow` lets you
share data between R and Python (`pyarrow`) efficiently, enabling you to take
advantage of the vibrant ecosystem of Python packages that build on top of
Apache Arrow. 

Example:

```{r}
library(reticulate)

starwars_arrow_r <- arrow_table(starwars)
starwars_arrow_python <- r_to_py(starwars_arrow_r)
starwars_arrow_python
```

See `vignette("python", package = "arrow")` for more information.


## Understanding Apache Arrow

### How is the `arrow` package structured?

See `vignette("package_conventions", package = "arrow")`

### Data structures in Arrow

See `vignette("data_structures", package = "arrow")`

### Data types in Arrow

See `vignette("data_types", package = "arrow")`

## Contributing to `arrow`

See `vignette("developers", package = "arrow")` to get started.

